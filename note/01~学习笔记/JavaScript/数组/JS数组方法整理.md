# 快速总结

# 声明数组
- **空数组
     - let arr = new Array ( );
     - let arr = [ ]; <font color = grey>字面量创建</font>
- **指定length
     - let arr = Array (3); 
- **指定数组元素
     - let arr = [1, 2, 3, 4, 5];
     - let arr = ("apple"); <font color = grey>如为单个数字参数则可能同指定length方式</font>
- <b><font color = yellow>ES6新增创建数组的静态方法</font></b>
    - Array.from ( ); 

-   from ( )
    
    > array.from ( ) 的第一个参数是一个类数组对象，即任何可迭代的结构，或者有一个length属性和可索引元素额度结果。可以用于很多场合：
    
    -   **字符串**会被拆分为单字符数组
        
    -   可以使用from ( ) 将集合和映射转换成为一个新数组
        
    -   Array.from ( ) 对现有数组执行**浅复制**
        
        ```jsx
        const a1 = [1, 2, 3, 4];
        const a2 = Array.from (a1);
        console.log (a1); // [1, 2, 3, 4]
        alert(a1 === a2); // false
        ```
        
    -   可以使用任何可迭代对象
        
    -   **argumenets**对象可以被轻松地转换为数组
        
    -   from ( ) 也能转换带有必要属性的自定义对象
        
    -   Array.from ( ) 还接受第二个可选地映射函数参数。这个函数可以直接增强新数组的值，而无须像调用 Array.from().map() 那样先创建一个中间数组。还可以接受第三个可选参数，用于指定映射函数中this的值。**但这个重写的this值在箭头函数中不适用。**
        
-   Array.of ()
    
    -   可以把一组参数转换为数组。（**可替代ES6之前的Array.prototype.slice.call (arguments)**)

# 数组空位

```jsx
const options = [, , , , ,] // 创建包含5个元素的数组
```

**可以使用逗号创建空位**

**ES6新增方法**普遍将这些空位当成存在元素，只不过值为**undefined**。

**ES6之前的方法**则会**忽略这个空位**。但具体行为也会因方法而异。

**实践中避免使用数组空位。可以使用undefined值替代。**

# 数组索引

要取得或设置数组的值，需要使用中括号并提供相应值的索引

-   如果把一个值设置给超过数组最大的索引的索引，则数组长度会自动扩展到该索引值加1
    
    ```jsx
    let a = [1, 2, 3];
    a[3] = 4; // 添加第四项
    ```
    

length属性表示元素数量（**length属性非只读，修改length可在末尾添加或删除元素**）

# 检测数组

Array.isArray ( )

# 迭代器

**Array的原型**上用于**检索数组内容**的方法

-   keys ( )
    -   返回数组索引的迭代器
-   values ( )
    -   返回元素索引的迭代器
-   entries ( )
    -   反馈索引/值对应的迭代器

```jsx
const a = ["b", "c", "d", "e"];
const aKeys = Array.from (a.keys());
const aValues = Array.from (a.values ());
const aEntries = Array.from (a.entries());
console.log (akeys); // [0, 1, 2, 3]
console.log (aValues); // ["b", "c", "d", "e"]
console.log (aEntries); // [0, "b"], [1, "c"], [2, "d"], [3, "e"]
```

## 复制和填充

-   填充数组 fill ( )
    
    -   可以向一个已有的数组插入全部或部分相同的值。
    -   开始位置可选，不提供结束索引，则一直填充到数组末尾。负值索引从数组末尾开始计算。
    
    ```jsx
    const a = [0, 0, 0, 0, 0]
    a.fill (填充值，开始填充索引位置，结束填充索引位置)
    a.fill (5) // 不指定，用5填充整个数组
    ```
    
-   批量复制 copyWithin ( )
    
    -   会按照指定范围**浅复制**指数组中的部分内容，然后将它们插入到指定索引开始的位置。开始索引和结束索引与fill ( )方法一致。

**fill ( ) / copyWithin ( ) 静默会略超出数组边界、零长度及方向相反的索引范围，部分可用则填充部分可用部分。**

## 转换方法

-   valueOf ( ）返回**数组本身**。
-   toString ( ) 返回由数组中**每个数值的等效字符串拼接而成的一个逗号分隔的字符串**。
-   alert ( ) 期待字符串，结果等同toString ( )。
-   toLocaleString ( ) 为了得到最终的字符串，会调用数组每个值的 toLocaleString ( ) 方法。
-   如需**改变分隔符**，需要使用 join ( ) 的方法。**如果不给join ( ) 传入任何参数，或者传入undefined，则仍然使用逗号作为分隔符。**

## 栈方法

栈是一种**后进先出**（LIFO, Last-In-First-Out）的**数据结构**，也就是一种限制插入和删除项的结构。也就是最近添加的项先被删除。数据项的插入（称为推入，push）和删除（称为弹出，pop）旨在栈的一个地方发生，即栈顶。**ECMAScript数组提供了push ( ) 和 pop ( ) 方法，以实现类似栈的行为。**

-   push ( )
    
    -   接收任意变量的参数，**并将它们添加到数组末尾，返回数组的最新长度。**
-   pop ( )
    
    -   用于删除数组的最后一项，同时减少数组的length值，**返回被删除项。**
    
    ```jsx
    let a = ["1", "2"]
    let item = colors.pop (); // 取得最后一项
    alert (item); // 2
    ```
    

## 队列方法

队列在列表末尾添加数据，但从列表开头添加数据。

模拟队列，从数组开头处理数据，采用shift ( ) 以及unshift ( )方法

-   shift ( )
    -   **删除数组第一项并返回删除项，数组长度减1**
-   unshift ( )
    -   与shift相反，**在数组开头添加任意多个值，然后返回新的数组长度。用法等同push。**

## 排序方法

-   reverse ( )
    
    -   将数组元素反向排列
-   soft ( )
    
    -   按照升序重新排列，最小值在前面，最大值在后面。
    -   **会在每一项上调用string ( ) 转型函数。转换为字符串比较。（数值排序可能出现问题）**
    -   sort ( ) 方法可以接收一个比较函数。用于判断哪个值应该排在前面。
    
    ```jsx
    let values = [0, 1, 5, 10, 15]
    values.sort ();
    alert (values); // 结果为0,1,10,15,5 因为转换为字符串比较，所以不符合数值升序排列规则
    ```
    
    ```jsx
    function compare (value1, value2) {
       if (value1 < value2) {
         return -1;
      } else if {value1 > value2) {
      } else {
        return 0;
      }
    }
    
    let values = [0,1,5,10,15]
    values.sort (compare);
    alert (values); // 结果为0,1,5,10,15 调整compare函数也可做降序排列
    ```
    
    ```jsx
    let values = [0, 1, 5, 10, 15];
    values.sort ((a, b) => a < b ? 1 : a >b ? -1 : 0);
    alert (values); // 结果为15,10,5,1,0 箭头函数简化写法
    ```
    

**reverse ( ) 和 soft ( ) 都返回调用它们的数组的引用**

## 操作方法

-   concat ( )
    -   创建原有数组副本，将新参数添加到副本末尾
-   slice ( )
    -   用于创建一个包含原有数组中一个或多个元素的新数组。
    -   **slice ( ) 方法不会影响原始数组**
-   **splice ( )**
    -   主要目的是在数组中间插入元素
    -   **删除**：splice (第一个要删除元素的位置，要删除元素的数量)
    -   **插入**：splice (开始位置，要删除的元素数量，插入的元素）
    -   **替换**：同插入
    -   该方法**返回包含从数组中删除的元素的数组**

## 搜索和位置方法

-   **严格相等**搜索办法**（===比较）**
    -   index （ ）
        -   从数组第一项向后查找，返回查找元素位置，如果没找到则返回-1
    -   lastindexof ( )
        -   从数组末尾向前查找，返回查找元素位置，如果没找到则返回-1
    -   includes （ ）**【ECMAScript 7新增】**
        -   从数组第一项向后查找，返回布尔值
-   断言函数（**接收3个参数：元素、索引、数组本身**）
    -   find ( )
        
        从数组最小索引开始，**返回第一个匹配元素，找到匹配后不再继续搜索**
        
    -   findindex ( )
        
        从数组最小索引开始，**返回第一个匹配元素的索引，找到匹配后不在继续搜索**
        

## 迭代方法

以下每个方法接收两个参数，传给每个方法的函数接收3个参数：**数组元素、元素索引、数组本身**。**这些方法不改变调用它们的数组**。

-   every ( )
    
    对每一项都运行传入的函数，**如果每一项都返回true，则该方法返回true。**
    
-   filter ( )
    
    对数组每一项都运行传入的函数，**函数组成true的项会组成数组后返回。**
    
-   forEach ( )
    
    对数组每一项都运行传入的函数，**没有返回值。**
    
-   map ( )
    
    对数组每一项都运行传入的函数，**返回由每次函数调用的结果构成的数组。**
    
-   some ( )
    
    对数组每一项都运行传入的函数，**如果有一项返回true，则这个方法返回true。**
    

## 归并方法

以下两个方法都会迭代函数所有项目，并构建一个最终返回值。

-   reduce ( ) **【从前向后遍历】**
    
    ```jsx
    let values = [1, 2, 3, 4, 5]
    let sum = values.reduce((prev, cur, index, array) => prev +cur);
    alert (sum); // 15
    ```
    
-   reduceright ( ) **【从后向前遍历】**



